<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulasi Interaktif PJOK Kelas 6</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    html, body { height: 100%; }
    body { font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial; }
    /* Simple keyframes for senam animations */
    @keyframes rollForward {
      0% { transform: translateX(0) rotate(0deg); }
      50% { transform: translateX(140px) rotate(360deg); }
      100% { transform: translateX(260px) rotate(720deg); }
    }
    @keyframes rollBackward {
      0% { transform: translateX(260px) rotate(0deg); }
      50% { transform: translateX(120px) rotate(-360deg); }
      100% { transform: translateX(0) rotate(-720deg); }
    }
    @keyframes candle {
      0% { transform: translateY(0) }
      30% { transform: translateY(-120px) }
      60% { transform: translateY(-120px) }
      100% { transform: translateY(0) }
    }
    @keyframes lenting {
      0% { transform: translateX(0) translateY(0) }
      50% { transform: translateX(160px) translateY(-80px) }
      100% { transform: translateX(300px) translateY(0) }
    }
    @keyframes tiger {
      0% { transform: translateX(0) translateY(0) scale(1) }
      30% { transform: translateX(120px) translateY(-60px) scale(1.05) }
      60% { transform: translateX(200px) translateY(-10px) scale(1.05) }
      100% { transform: translateX(300px) translateY(0) scale(1) }
    }
    /* Animation utility classes applied dynamically */
    .anim-roll-forward { animation: rollForward 1.2s ease-in-out forwards; }
    .anim-roll-backward { animation: rollBackward 1.2s ease-in-out forwards; }
    .anim-candle { animation: candle 1.2s ease-in-out forwards; }
    .anim-lenting { animation: lenting 1.1s ease-in-out forwards; }
    .anim-tiger { animation: tiger 1s ease-out forwards; }

    /* Smooth card hover */
    .lift:hover { transform: translateY(-2px); }
    .no-select { user-select: none; -webkit-user-select: none; }
    /* Prevent flashing on updates */
    .fade-in { animation: fadeIn .25s ease; }
    @keyframes fadeIn { from {opacity: 0} to {opacity:1} }
  </style>
</head>
<body class="min-h-full bg-gradient-to-br from-indigo-700 via-fuchsia-600 to-rose-500 text-white">
  <div class="max-w-6xl mx-auto px-4 py-8">
    <!-- Header -->
    <header class="mb-6">
      <div class="rounded-2xl bg-white/10 backdrop-blur-md p-6 border border-white/15 shadow-xl">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
          <div>
            <h1 class="text-2xl md:text-3xl font-bold tracking-tight">Simulasi Interaktif PJOK • Kelas 6</h1>
            <p class="text-white/80 mt-1">Belajar sambil bermain: materi, simulasi senam lantai, simulasi skor bola voli, dan kuis cepat.</p>
          </div>
          <div class="flex items-center gap-3">
            <span class="inline-flex items-center gap-2 bg-emerald-400/20 text-emerald-100 px-3 py-1.5 rounded-full text-sm border border-emerald-300/30">
              <span class="w-2 h-2 rounded-full bg-emerald-300 animate-pulse"></span>
              Interaktif
            </span>
            <span class="inline-flex items-center gap-2 bg-cyan-400/20 text-cyan-100 px-3 py-1.5 rounded-full text-sm border border-cyan-300/30">
              📱 Responsif
            </span>
          </div>
        </div>
      </div>
    </header>

    <!-- Tabs -->
    <nav class="mb-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
        <button data-tab="materi" class="tab-btn active rounded-xl lift bg-white text-indigo-700 font-semibold px-4 py-3 shadow-md transition">
          📚 Materi
        </button>
        <button data-tab="senam" class="tab-btn rounded-xl lift bg-white/15 hover:bg-white/20 font-semibold px-4 py-3 shadow-md transition border border-white/10">
          🤸 Senam Lantai
        </button>
        <button data-tab="voli" class="tab-btn rounded-xl lift bg-white/15 hover:bg-white/20 font-semibold px-4 py-3 shadow-md transition border border-white/10">
          🏐 Bola Voli
        </button>
        <button data-tab="kuis" class="tab-btn rounded-xl lift bg-white/15 hover:bg-white/20 font-semibold px-4 py-3 shadow-md transition border border-white/10">
          📝 Kuis Cepat
        </button>
      </div>
    </nav>

    <!-- Content Panels -->
    <main class="space-y-6">
      <!-- Materi -->
      <section id="panel-materi" class="panel rounded-2xl bg-white/10 backdrop-blur-md p-6 border border-white/15 shadow-xl">
        <div class="grid md:grid-cols-2 gap-6">
          <div class="rounded-xl p-5 bg-gradient-to-br from-amber-400/20 to-pink-500/20 border border-white/15">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-10 h-10 rounded-lg bg-amber-300/30 flex items-center justify-center text-2xl">🤸</div>
              <h2 class="text-xl font-bold">Rangkuman Materi: Senam Lantai</h2>
            </div>
            <p class="text-white/90 leading-relaxed">
              Senam lantai adalah olahraga senam di atas matras/lantai. Gerakannya melibatkan akrobatik, kelenturan, dan keseimbangan tanpa alat.
            </p>
            <h3 class="mt-4 font-semibold">Macam Gerakan:</h3>
            <ul class="mt-2 space-y-2 text-white/90">
              <li class="flex gap-2"><span>•</span><span><strong>Guling depan</strong>: Menggulingkan badan ke depan dari posisi jongkok.</span></li>
              <li class="flex gap-2"><span>•</span><span><strong>Guling belakang</strong>: Menggulingkan badan ke belakang.</span></li>
              <li class="flex gap-2"><span>•</span><span><strong>Sikap lilin</strong>: Kedua kaki lurus ke atas, tumpuan punggung dan pundak, tangan menyangga pinggang.</span></li>
              <li class="flex gap-2"><span>•</span><span><strong>Guling lenting</strong>: Melentingkan badan ke depan-atas hingga badan melayang.</span></li>
              <li class="flex gap-2"><span>•</span><span><strong>Loncat harimau</strong>: Melompat ke depan lalu melakukan guling depan.</span></li>
            </ul>
          </div>

          <div class="rounded-xl p-5 bg-gradient-to-br from-sky-400/20 to-violet-500/20 border border-white/15">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-10 h-10 rounded-lg bg-sky-300/30 flex items-center justify-center text-2xl">🏐</div>
              <h2 class="text-xl font-bold">Rangkuman Materi: Bola Voli</h2>
            </div>
            <p class="text-white/90 leading-relaxed">
              Bola voli adalah permainan beregu dengan dua tim yang dipisahkan net. Tujuannya memukul bola melewati net agar jatuh di area lawan.
            </p>
            <h3 class="mt-4 font-semibold">Teknik Dasar:</h3>
            <ul class="mt-2 space-y-2 text-white/90">
              <li class="flex gap-2"><span>•</span><span><strong>Servis</strong>: Pukulan pertama memulai permainan (bawah/atas).</span></li>
              <li class="flex gap-2"><span>•</span><span><strong>Passing</strong>: Menerima/mengendalikan bola (bawah dengan lengan, atas dengan jari).</span></li>
              <li class="flex gap-2"><span>•</span><span><strong>Smash (Spike)</strong>: Pukulan keras dan menukik ke area lawan.</span></li>
              <li class="flex gap-2"><span>•</span><span><strong>Blocking</strong>: Menahan/hadangi smash lawan di dekat net.</span></li>
            </ul>
            <h3 class="mt-4 font-semibold">Sistem Poin & Set:</h3>
            <ul class="mt-2 space-y-2 text-white/90">
              <li class="flex gap-2"><span>•</span><span>Pertandingan 3–5 set. Set dimenangkan tim pertama yang mencapai 25 poin (selisih ≥ 2).</span></li>
              <li class="flex gap-2"><span>•</span><span>Jika 24–24, lanjut hingga selisih 2 poin (mis. 26–24).</span></li>
              <li class="flex gap-2"><span>•</span><span>Tim pertama yang menang 3 set adalah pemenang. Set ke-5 (penentuan) sampai 15 poin (selisih ≥ 2).</span></li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Senam Lantai -->
      <section id="panel-senam" class="panel hidden rounded-2xl bg-white/10 backdrop-blur-md p-6 border border-white/15 shadow-xl">
        <div class="grid lg:grid-cols-2 gap-6">
          <!-- Simulator -->
          <div class="rounded-xl bg-white/10 p-5 border border-white/15">
            <h2 class="text-xl font-bold mb-3">Simulator Gerakan</h2>
            <p class="text-white/80 mb-4">Pilih gerakan untuk melihat animasi sederhana di atas matras.</p>

            <!-- Stage -->
            <div class="rounded-xl bg-gradient-to-br from-slate-900/40 to-slate-800/40 border border-white/10 p-4">
              <!-- Mat (SVG) -->
              <div class="relative overflow-hidden rounded-lg border border-white/10" style="height: 220px;">
                <svg viewBox="0 0 360 220" class="w-full h-full">
                  <!-- Matras -->
                  <rect x="10" y="150" width="340" height="50" rx="10" ry="10" fill="url(#matGrad)" stroke="rgba(255,255,255,0.25)"/>
                  <!-- Character: head + body -->
                  <g id="gymnastic-figure" transform="translate(40,180)">
                    <circle id="head" cx="0" cy="-25" r="10" fill="#FFE08A" stroke="rgba(0,0,0,0.15)"/>
                    <rect id="body" x="-6" y="-20" width="12" height="28" rx="6" fill="#60A5FA" />
                    <line x1="-6" y1="0" x2="-18" y2="20" stroke="#93C5FD" stroke-width="4" stroke-linecap="round"/>
                    <line x1="6" y1="0" x2="18" y2="20" stroke="#93C5FD" stroke-width="4" stroke-linecap="round"/>
                  </g>
                  <defs>
                    <linearGradient id="matGrad" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0%" stop-color="#22d3ee" stop-opacity="0.6"/>
                      <stop offset="100%" stop-color="#6366f1" stop-opacity="0.6"/>
                    </linearGradient>
                  </defs>
                </svg>
              </div>

              <!-- Controls -->
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-3 mt-4">
                <button class="senam-btn rounded-lg bg-white text-indigo-700 font-semibold py-2.5 shadow hover:shadow-lg transition" data-move="guling-depan">Guling Depan</button>
                <button class="senam-btn rounded-lg bg-white text-indigo-700 font-semibold py-2.5 shadow hover:shadow-lg transition" data-move="guling-belakang">Guling Belakang</button>
                <button class="senam-btn rounded-lg bg-white text-indigo-700 font-semibold py-2.5 shadow hover:shadow-lg transition" data-move="sikap-lilin">Sikap Lilin</button>
                <button class="senam-btn rounded-lg bg-white text-indigo-700 font-semibold py-2.5 shadow hover:shadow-lg transition" data-move="guling-lenting">Guling Lenting</button>
                <button class="senam-btn rounded-lg bg-white text-indigo-700 font-semibold py-2.5 shadow hover:shadow-lg transition" data-move="loncat-harimau">Loncat Harimau</button>
                <button id="reset-figure" class="rounded-lg bg-white/20 hover:bg-white/25 font-semibold py-2.5 shadow border border-white/15 transition">Reset Posisi</button>
              </div>

              <div id="senam-desc" class="mt-3 text-white/90 text-sm bg-white/10 rounded-lg p-3 border border-white/10 min-h-[54px]">
                Pilih gerakan untuk mulai animasi.
              </div>
            </div>
          </div>

          <!-- Challenge -->
          <div class="rounded-xl bg-white/10 p-5 border border-white/15">
            <h2 class="text-xl font-bold mb-3">Latihan Urutan</h2>
            <p class="text-white/80 mb-4">Ikuti urutan gerakan yang diminta. Klik gerakan untuk membentuk urutan, lalu jalankan.</p>
            <div class="space-y-3">
              <div class="flex items-center gap-2">
                <span class="text-sm bg-amber-400/30 text-amber-100 px-3 py-1 rounded-full border border-amber-300/30">Target Urutan</span>
                <div id="target-seq" class="flex flex-wrap gap-2"></div>
                <button id="randomize-seq" class="ml-auto text-sm bg-white/15 hover:bg-white/20 border border-white/15 px-3 py-1.5 rounded-lg">Acak</button>
              </div>
              <div>
                <span class="text-sm bg-cyan-400/30 text-cyan-100 px-3 py-1 rounded-full border border-cyan-300/30">Urutan Kamu</span>
                <div id="your-seq" class="flex flex-wrap gap-2 mt-2"></div>
              </div>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                <button class="add-move rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-move="Guling Depan">Guling Depan</button>
                <button class="add-move rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-move="Guling Belakang">Guling Belakang</button>
                <button class="add-move rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-move="Sikap Lilin">Sikap Lilin</button>
                <button class="add-move rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-move="Guling Lenting">Guling Lenting</button>
                <button class="add-move rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-move="Loncat Harimau">Loncat Harimau</button>
                <button id="clear-seq" class="rounded-lg bg-white/20 hover:bg-white/25 font-semibold py-2 shadow border border-white/15">Hapus</button>
              </div>
              <div class="flex items-center gap-3">
                <button id="play-seq" class="rounded-lg bg-emerald-400 hover:bg-emerald-500 text-emerald-950 font-semibold px-4 py-2 shadow">
                  Jalankan Urutan
                </button>
                <div id="seq-result" class="text-sm"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Bola Voli -->
      <section id="panel-voli" class="panel hidden rounded-2xl bg-white/10 backdrop-blur-md p-6 border border-white/15 shadow-xl">
        <div class="grid lg:grid-cols-3 gap-6">
          <!-- Scoreboard -->
          <div class="lg:col-span-2 rounded-xl bg-white/10 p-5 border border-white/15">
            <h2 class="text-xl font-bold mb-3">Simulator Skor Bola Voli</h2>
            <p class="text-white/80 mb-4">Atur nama tim, tambah poin, dan sistem set akan berjalan otomatis sesuai aturan resmi.</p>

            <!-- Team names -->
            <form id="team-form" class="flex flex-col sm:flex-row gap-3 items-stretch sm:items-end mb-4">
              <div class="flex-1">
                <label class="text-sm text-white/80">Nama Tim A</label>
                <input id="teamAName" type="text" class="w-full mt-1 px-3 py-2 rounded-lg bg-white text-slate-800 placeholder-slate-400 border-2 border-transparent focus:border-indigo-400 outline-none" placeholder="Tim A" value="Garuda">
              </div>
              <div class="flex-1">
                <label class="text-sm text-white/80">Nama Tim B</label>
                <input id="teamBName" type="text" class="w-full mt-1 px-3 py-2 rounded-lg bg-white text-slate-800 placeholder-slate-400 border-2 border-transparent focus:border-indigo-400 outline-none" placeholder="Tim B" value="Rajawali">
              </div>
              <button type="submit" class="rounded-lg bg-white text-indigo-700 font-semibold px-4 py-2 shadow">
                Simpan Nama
              </button>
            </form>

            <!-- Score Display -->
            <div class="rounded-xl bg-gradient-to-br from-slate-900/40 to-slate-800/40 border border-white/10 p-4">
              <div class="flex items-center justify-between gap-4">
                <div class="flex-1">
                  <div class="text-white/80 text-sm mb-1">Tim A</div>
                  <div class="flex items-center gap-3">
                    <div class="text-2xl font-bold" id="nameA">Garuda</div>
                    <span id="serveA" class="hidden text-xs bg-amber-300/30 text-amber-100 px-2 py-0.5 rounded-full border border-amber-300/30">Servis</span>
                  </div>
                </div>
                <div class="text-5xl md:text-6xl font-extrabold tracking-tight">
                  <span id="scoreA">0</span>
                  <span class="text-white/40 text-3xl mx-2">:</span>
                  <span id="scoreB">0</span>
                </div>
                <div class="flex-1 text-right">
                  <div class="text-white/80 text-sm mb-1">Tim B</div>
                  <div class="inline-flex items-center gap-3">
                    <span id="serveB" class="hidden text-xs bg-amber-300/30 text-amber-100 px-2 py-0.5 rounded-full border border-amber-300/30">Servis</span>
                    <div class="text-2xl font-bold" id="nameB">Rajawali</div>
                  </div>
                </div>
              </div>

              <!-- Controls -->
              <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mt-4">
                <button id="addA" class="rounded-lg bg-emerald-400 hover:bg-emerald-500 text-emerald-950 font-semibold py-2 shadow">+1 A</button>
                <button id="addB" class="rounded-lg bg-emerald-400 hover:bg-emerald-500 text-emerald-950 font-semibold py-2 shadow">+1 B</button>
                <button id="undoPoint" class="rounded-lg bg-white/20 hover:bg-white/25 font-semibold py-2 shadow border border-white/15">Undo</button>
                <button id="resetSet" class="rounded-lg bg-white/20 hover:bg-white/25 font-semibold py-2 shadow border border-white/15">Reset Set</button>
              </div>

              <!-- Sets -->
              <div class="mt-4">
                <div class="flex items-center justify-between">
                  <div class="text-sm text-white/80">Set Berjalan: <span id="currentSet">1</span> / 5</div>
                  <button id="resetMatch" class="text-sm rounded-lg bg-rose-400/30 hover:bg-rose-400/40 text-white px-3 py-1.5 border border-rose-200/40">Reset Pertandingan</button>
                </div>
                <div id="sets" class="grid grid-cols-5 gap-2 mt-3"></div>
              </div>

              <!-- Notice -->
              <div id="matchStatus" class="mt-3 text-center text-sm"></div>
            </div>
          </div>

          <!-- Teknik Dasar Helper -->
          <div class="rounded-xl bg-white/10 p-5 border border-white/15">
            <h3 class="text-lg font-bold mb-2">Latihan Teknik Dasar</h3>
            <p class="text-white/80 mb-3">Pilih teknik lalu ikuti tips singkatnya.</p>
            <div class="space-y-3">
              <div class="grid grid-cols-2 gap-2">
                <button class="tech-btn rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-tech="Servis Bawah">Servis Bawah</button>
                <button class="tech-btn rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-tech="Servis Atas">Servis Atas</button>
                <button class="tech-btn rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-tech="Passing Bawah">Passing Bawah</button>
                <button class="tech-btn rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-tech="Passing Atas">Passing Atas</button>
                <button class="tech-btn rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-tech="Smash">Smash</button>
                <button class="tech-btn rounded-lg bg-white text-indigo-700 font-semibold py-2 shadow" data-tech="Blocking">Blocking</button>
              </div>
              <div id="techTips" class="rounded-lg bg-white/10 border border-white/10 p-3 min-h-[80px] text-white/90">
                Pilih teknik untuk melihat tips.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Kuis -->
      <section id="panel-kuis" class="panel hidden rounded-2xl bg-white/10 backdrop-blur-md p-6 border border-white/15 shadow-xl">
        <h2 class="text-xl font-bold mb-3">Kuis Cepat</h2>
        <p class="text-white/80 mb-4">Jawab pertanyaan berikut. Kamu bisa lihat skor di akhir.</p>

        <form id="quizForm" class="space-y-4">
          <!-- Q1 -->
          <div class="rounded-xl bg-white/10 border border-white/15 p-4">
            <p class="font-semibold">1) Senam lantai dilakukan di atas apa?</p>
            <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2">
              <label class="flex gap-2 items-center"><input type="radio" name="q1" value="S" class="accent-emerald-400"><span>Matras/lantai</span></label>
              <label class="flex gap-2 items-center"><input type="radio" name="q1" value="X" class="accent-emerald-400"><span>Rumput</span></label>
            </div>
          </div>
          <!-- Q2 -->
          <div class="rounded-xl bg-white/10 border border-white/15 p-4">
            <p class="font-semibold">2) Gerakan mengangkat kedua kaki lurus ke atas disebut?</p>
            <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2">
              <label class="flex gap-2 items-center"><input type="radio" name="q2" value="S" class="accent-emerald-400"><span>Sikap lilin</span></label>
              <label class="flex gap-2 items-center"><input type="radio" name="q2" value="X" class="accent-emerald-400"><span>Loncat harimau</span></label>
            </div>
          </div>
          <!-- Q3 -->
          <div class="rounded-xl bg-white/10 border border-white/15 p-4">
            <p class="font-semibold">3) Pukulan pertama untuk memulai permainan voli adalah?</p>
            <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2">
              <label class="flex gap-2 items-center"><input type="radio" name="q3" value="S" class="accent-emerald-400"><span>Servis</span></label>
              <label class="flex gap-2 items-center"><input type="radio" name="q3" value="X" class="accent-emerald-400"><span>Smash</span></label>
            </div>
          </div>
          <!-- Q4 -->
          <div class="rounded-xl bg-white/10 border border-white/15 p-4">
            <p class="font-semibold">4) Passing bawah dilakukan menggunakan?</p>
            <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2">
              <label class="flex gap-2 items-center"><input type="radio" name="q4" value="S" class="accent-emerald-400"><span>Lengan</span></label>
              <label class="flex gap-2 items-center"><input type="radio" name="q4" value="X" class="accent-emerald-400"><span>Telapak tangan</span></label>
            </div>
          </div>
          <!-- Q5 -->
          <div class="rounded-xl bg-white/10 border border-white/15 p-4">
            <p class="font-semibold">5) Set voli dimenangkan saat mencapai?</p>
            <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2">
              <label class="flex gap-2 items-center"><input type="radio" name="q5" value="S" class="accent-emerald-400"><span>25 poin (selisih ≥ 2)</span></label>
              <label class="flex gap-2 items-center"><input type="radio" name="q5" value="X" class="accent-emerald-400"><span>20 poin (tanpa selisih)</span></label>
            </div>
          </div>
          <!-- Q6 -->
          <div class="rounded-xl bg-white/10 border border-white/15 p-4">
            <p class="font-semibold">6) Set kelima (penentuan) dimainkan sampai?</p>
            <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2">
              <label class="flex gap-2 items-center"><input type="radio" name="q6" value="S" class="accent-emerald-400"><span>15 poin (selisih ≥ 2)</span></label>
              <label class="flex gap-2 items-center"><input type="radio" name="q6" value="X" class="accent-emerald-400"><span>10 poin (tanpa selisih)</span></label>
            </div>
          </div>

          <div class="flex items-center gap-3">
            <button type="submit" class="rounded-lg bg-emerald-400 hover:bg-emerald-500 text-emerald-950 font-semibold px-4 py-2 shadow">Lihat Skor</button>
            <button type="button" id="resetQuiz" class="rounded-lg bg-white/20 hover:bg-white/25 font-semibold px-4 py-2 shadow border border-white/15">Reset</button>
            <div id="quizResult" class="text-sm"></div>
          </div>
        </form>
      </section>
    </main>
  </div>

  <script>
    // Simple helper
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    // Tabs
    const tabs = $$(".tab-btn");
    const panels = $$(".panel");
    function showPanel(key) {
      panels.forEach(p => p.classList.add("hidden"));
      $("#panel-"+key).classList.remove("hidden");
      tabs.forEach(b => b.classList.remove("active","bg-white","text-indigo-700"));
      const btn = tabs.find(b=>b.dataset.tab===key);
      btn.classList.add("active","bg-white","text-indigo-700");
    }
    tabs.forEach(btn => btn.addEventListener("click", () => showPanel(btn.dataset.tab)));

    // SENAM: Animation control
    const figure = $("#gymnastic-figure");
    const head = $("#head");
    const body = $("#body");
    const senamDesc = $("#senam-desc");
    const startTransform = "translate(40,180)";

    function resetFigure() {
      figure.setAttribute("transform", startTransform);
      figure.classList.remove("anim-roll-forward","anim-roll-backward","anim-candle","anim-lenting","anim-tiger");
      head.setAttribute("r", "10");
      body.setAttribute("height","28");
      body.setAttribute("y","-20");
    }

    function describe(text) {
      senamDesc.textContent = text;
      senamDesc.classList.remove("fade-in");
      void senamDesc.offsetWidth; // reflow to reset animation
      senamDesc.classList.add("fade-in");
    }

    function playMove(move) {
      resetFigure();
      // slight delay to allow CSS class to re-apply
      setTimeout(()=>{
        if (move === "guling-depan") {
          figure.classList.add("anim-roll-forward");
          describe("Guling depan: menggulingkan badan ke depan dari posisi jongkok.");
        } else if (move === "guling-belakang") {
          figure.setAttribute("transform","translate(40,150)"); // start left
          figure.classList.add("anim-roll-backward");
          describe("Guling belakang: menggulingkan badan ke belakang.");
        } else if (move === "sikap-lilin") {
          figure.classList.add("anim-candle");
          describe("Sikap lilin: kaki lurus ke atas, tumpuan punggung dan pundak, tangan menyangga pinggang.");
        } else if (move === "guling-lenting") {
          figure.classList.add("anim-lenting");
          describe("Guling lenting: melentingkan badan ke depan-atas hingga badan melayang.");
        } else if (move === "loncat-harimau") {
          figure.classList.add("anim-tiger");
          describe("Loncat harimau: melompat ke depan lalu lanjut guling depan.");
        }
      }, 20);
    }

    $$(".senam-btn").forEach(b => b.addEventListener("click", () => playMove(b.dataset.move)));
    $("#reset-figure").addEventListener("click", () => {
      resetFigure();
      describe("Posisi direset. Pilih gerakan untuk mulai animasi.");
    });

    // SENAM: Sequence challenge
    const movesList = ["Guling Depan","Guling Belakang","Sikap Lilin","Guling Lenting","Loncat Harimau"];
    const targetSeqEl = $("#target-seq");
    const yourSeqEl = $("#your-seq");
    const seqResult = $("#seq-result");
    let targetSeq = [];
    let yourSeq = [];
    function chip(text, tone="white") {
      const base = document.createElement("span");
      base.className = "text-xs px-2.5 py-1 rounded-full border " + (tone==="white" ? "bg-white/90 text-indigo-700 border-white" : "bg-white/15 text-white border-white/20");
      base.textContent = text;
      return base;
    }
    function renderSeq() {
      targetSeqEl.innerHTML = "";
      yourSeqEl.innerHTML = "";
      targetSeq.forEach(t => targetSeqEl.appendChild(chip(t,"white")));
      yourSeq.forEach((t,idx) => {
        const c = chip((idx+1)+". "+t,"soft");
        c.classList.add("cursor-pointer","hover:bg-white/25");
        c.title = "Klik untuk hapus item ini";
        c.addEventListener("click", () => {
          yourSeq.splice(idx,1);
          renderSeq();
        });
        yourSeqEl.appendChild(c);
      });
    }
    function randomizeTarget() {
      const shuffled = [...movesList].sort(()=>Math.random()-0.5);
      const len = 3; // short sequence
      targetSeq = shuffled.slice(0,len);
      renderSeq();
      seqResult.textContent = "Tantangan siap! Bentuk urutannya lalu jalankan.";
      seqResult.className = "text-sm text-white/90";
    }
    $("#randomize-seq").addEventListener("click", randomizeTarget);
    $("#clear-seq").addEventListener("click", () => { yourSeq=[]; renderSeq(); seqResult.textContent="Urutan kamu dihapus."; seqResult.className="text-sm text-white/80"; });
    $$(".add-move").forEach(b => b.addEventListener("click", () => { yourSeq.push(b.dataset.move); renderSeq(); }));

    // Play sequence visually and check
    function playSequenceVisual(seq, onDone) {
      // map names to internal keys
      const map = {
        "Guling Depan":"guling-depan",
        "Guling Belakang":"guling-belakang",
        "Sikap Lilin":"sikap-lilin",
        "Guling Lenting":"guling-lenting",
        "Loncat Harimau":"loncat-harimau"
      };
      let i=0;
      function step() {
        if (i>=seq.length) { onDone && onDone(); return; }
        playMove(map[seq[i]]);
        i++;
        setTimeout(step, 1300);
      }
      step();
    }
    $("#play-seq").addEventListener("click", () => {
      if (targetSeq.length===0) randomizeTarget();
      if (yourSeq.length===0) {
        seqResult.textContent = "Tambahkan minimal 1 gerakan dulu ya!";
        seqResult.className = "text-sm text-amber-200";
        return;
      }
      playSequenceVisual(yourSeq, () => {
        const correct = yourSeq.length===targetSeq.length && yourSeq.every((v,i)=>v===targetSeq[i]);
        if (correct) {
          seqResult.textContent = "Mantap! Urutan kamu BENAR 🎉";
          seqResult.className = "text-sm text-emerald-200";
        } else {
          seqResult.textContent = "Belum tepat. Coba cocokkan lagi urutannya!";
          seqResult.className = "text-sm text-rose-200";
        }
      });
    });
    // initialize sequence on load
    randomizeTarget();

    // VOLI: Scoreboard logic
    const nameAEl = $("#nameA");
    const nameBEl = $("#nameB");
    const scoreAEl = $("#scoreA");
    const scoreBEl = $("#scoreB");
    const serveAEl = $("#serveA");
    const serveBEl = $("#serveB");
    const setsEl = $("#sets");
    const currentSetEl = $("#currentSet");
    const matchStatus = $("#matchStatus");

    let state = {
      teamA: "Garuda",
      teamB: "Rajawali",
      scoreA: 0,
      scoreB: 0,
      sets: [], // array of {a,b}
      currentSet: 1,
      serve: "A", // A or B
      history: [] // for undo: {who:'A'|'B'}
    };

    function renderServe() {
      serveAEl.classList.toggle("hidden", state.serve!=="A");
      serveBEl.classList.toggle("hidden", state.serve!=="B");
    }

    function renderScores() {
      scoreAEl.textContent = state.scoreA;
      scoreBEl.textContent = state.scoreB;
      currentSetEl.textContent = state.currentSet;
      // render set chips
      setsEl.innerHTML = "";
      for (let i=0;i<5;i++) {
        const data = state.sets[i] || null;
        const box = document.createElement("div");
        box.className = "rounded-lg px-3 py-2 border text-center " + (i===state.currentSet-1 ? "bg-white/20 border-white/40" : "bg-white/10 border-white/15");
        const title = document.createElement("div");
        title.className = "text-xs text-white/70";
        title.textContent = "Set "+(i+1);
        const score = document.createElement("div");
        score.className = "font-semibold";
        score.textContent = data ? (data.a+" : "+data.b) : "-";
        box.appendChild(title);
        box.appendChild(score);
        setsEl.appendChild(box);
      }
    }

    function resetSetScores() {
      state.scoreA = 0;
      state.scoreB = 0;
      state.history = [];
      renderScores();
    }

    function setTargetPoints() {
      // Set 5 target 15, others 25
      return state.currentSet === 5 ? 15 : 25;
    }

    function checkSetEnd() {
      const target = setTargetPoints();
      const a = state.scoreA, b = state.scoreB;
      const diff = Math.abs(a-b);
      if ((a>=target || b>=target) && diff>=2) {
        // set finished
        state.sets[state.currentSet-1] = {a,b};
        const winner = a>b ? "A":"B";
        matchStatus.textContent = "Set "+state.currentSet+" dimenangkan oleh Tim "+(winner==="A"?state.teamA:state.teamB)+" ✅";
        matchStatus.className = "mt-3 text-center text-sm text-emerald-200";
        // advance set or end match
        const winsA = state.sets.filter(s => s && s.a>s.b).length;
        const winsB = state.sets.filter(s => s && s.b>s.a).length;
        if (winsA===3 || winsB===3 || state.currentSet===5) {
          // match end
          const champ = winsA>winsB ? state.teamA : state.teamB;
          matchStatus.textContent = "Pertandingan selesai! Pemenang: "+champ+" 🏆";
          matchStatus.className = "mt-3 text-center text-sm text-amber-200";
        } else {
          state.currentSet += 1;
          resetSetScores();
          // serving team starts next set can be alternated
          state.serve = (state.currentSet % 2 === 1) ? "A" : "B";
          renderServe();
          renderScores();
        }
        renderScores();
        return true;
      }
      return false;
    }

    function addPoint(who) {
      if (state.sets[state.currentSet-1]) return; // set already closed
      if (who==="A") state.scoreA++; else state.scoreB++;
      state.history.push({who});
      // rally point system: serving team becomes the scorer
      state.serve = who;
      renderServe();
      renderScores();
      checkSetEnd();
    }

    function undoPoint() {
      const last = state.history.pop();
      if (!last) return;
      if (last.who==="A" && state.scoreA>0) state.scoreA--;
      if (last.who==="B" && state.scoreB>0) state.scoreB--;
      // cannot perfectly restore serve history, but switch to last scorer if exists
      const prev = state.history[state.history.length-1];
      state.serve = prev ? prev.who : state.serve;
      renderServe();
      renderScores();
      matchStatus.textContent = "";
    }

    $("#addA").addEventListener("click", ()=>addPoint("A"));
    $("#addB").addEventListener("click", ()=>addPoint("B"));
    $("#undoPoint").addEventListener("click", undoPoint);
    $("#resetSet").addEventListener("click", ()=>{ resetSetScores(); matchStatus.textContent="Set direset."; matchStatus.className="mt-3 text-center text-sm text-white/80"; });

    $("#resetMatch").addEventListener("click", ()=>{
      state.scoreA=0; state.scoreB=0; state.sets=[]; state.currentSet=1; state.history=[]; state.serve="A";
      matchStatus.textContent="Pertandingan direset.";
      matchStatus.className="mt-3 text-center text-sm text-white/80";
      renderServe(); renderScores();
    });

    $("#team-form").addEventListener("submit", (e)=>{
      e.preventDefault();
      state.teamA = $("#teamAName").value || "Tim A";
      state.teamB = $("#teamBName").value || "Tim B";
      nameAEl.textContent = state.teamA;
      nameBEl.textContent = state.teamB;
    });

    // Teknik tips
    const tips = {
      "Servis Bawah": ["Sikap kuda-kuda ringan", "Tangan memegang bola rileks", "Ayun lengan dari belakang ke depan", "Pukul bagian bawah bola"],
      "Servis Atas": ["Toss bola setinggi kepala", "Tangan pemukul lurus", "Pukul dengan telapak kuat", "Arahkan ke area kosong"],
      "Passing Bawah": ["Satukan lengan (platform)", "Badan agak menunduk", "Kaki dibuka selebar bahu", "Dorong dari lutut, bukan ayunan besar"],
      "Passing Atas": ["Bentuk segitiga dengan jari", "Badan rileks, lutut lentur", "Sentuh bola dengan ujung jari", "Dorong bola ke atas halus"],
      "Smash": ["Awalan langkah cepat", "Lompatan tinggi", "Pukulan pergelangan kuat", "Arahkan menukik"],
      "Blocking": ["Lompatan di dekat net", "Tangan rapat di atas net", "Baca arah smash lawan", "Jatuh mendarat seimbang"]
    };
    $$(".tech-btn").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const t = btn.dataset.tech;
        const list = tips[t] || [];
        const box = $("#techTips");
        box.innerHTML = "<div class='font-semibold mb-1'>"+t+"</div>" + "<ul class='list-disc pl-5 space-y-1'>" + list.map(s=>"<li>"+s+"</li>").join("") + "</ul>";
        box.classList.remove("fade-in"); void box.offsetWidth; box.classList.add("fade-in");
      });
    });

    // QUIZ
    const keys = { q1:'S', q2:'S', q3:'S', q4:'S', q5:'S', q6:'S' };
    $("#quizForm").addEventListener("submit", (e)=>{
      e.preventDefault();
      let correct = 0, total = Object.keys(keys).length;
      Object.keys(keys).forEach(k=>{
        const chosen = document.querySelector('input[name="'+k+'"]:checked');
        if (chosen && chosen.value===keys[k]) correct++;
      });
      const res = $("#quizResult");
      res.textContent = "Skor kamu: "+correct+" dari "+total+(correct===total?" • Hebat! 🎉":" • Yuk coba lagi!");
      res.className = "text-sm " + (correct===total?"text-emerald-200":"text-white/90");
    });
    $("#resetQuiz").addEventListener("click", ()=>{
      $$("#quizForm input[type=radio]").forEach(i=>i.checked=false);
      const res = $("#quizResult");
      res.textContent = "Kuis direset.";
      res.className = "text-sm text-white/80";
    });

    // Initial renders
    renderServe();
    renderScores();
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9821d438a3849c38',t:'MTc1ODM3NjYxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
